## NiFi

- Apache NiFi -- это простая платформа обработки событий (сообщений), предоставляющая возможности управления потоками данных из разнообразных источников в режиме реального времени с использованием графического интерфейса. 

Apache NiFi использует концепцию потока, рассматриваемую как последовательность операций: передача, преобразование и обогащение данных над последовательностью отдельных событий (events). Таким образом, поток НЕ рассматривается как большая пакетная (batch) операция, требующая выполнения первоначальной загрузки всех данных перед началом обработки. Например, SQL база данных с миллионами строк рассматривается Apache NiFi как миллионы отдельных строк, требующие своей обработки. 

Apache NiFi состоит из 3-х основных компонент:

- Flow Files -- потоки файлов. Информация в NiFi состоит из двух частей: атрибуты и контейнер с данными (payload). FlowFiles обычно использует предопределенный набор атрибутов, которые могут быть добавлены (изменены) с помощью дополнительных операций. Контейнер с данными представляет собой собственно информацию, которая обрабатывается процессорами.

- Flow File Processor -- фрагменты кода, представляющие контейнер процессора с входами и выходами для данных.Полученный FlowFile далее может быть обработан другим процессором, который использует логику на основе атрибутов каждого FlowFile, таких как регулярные выражения Regex, работающие с именем файла.

- Connections -- определение того, как FlowFiles передаются между процессорами. Потоки файлов, обработанные без сбоев, формируют выполненную очередь (success queue), а сообщения с проблемами обработки передаются в failure queue. 

Требуется: 

1. Установить Java и NiFi.
```
brew install openjdk
brew install nifi
```

2. Скачать PostgreSQL JDBC Driver и поместить в папку lib внутри установки Apache NiFi.

3. Открыть NiFi UI. Например, `https://localhost:8080/nifi`.

4. Разработать NiFi flow.

